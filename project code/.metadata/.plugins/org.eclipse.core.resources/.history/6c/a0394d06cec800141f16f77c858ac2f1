import java.util.Date;

import distributed.systems.das.BattleField;


public class MirrorServer
{
	//error if 'numberOfTrailingStates' is less than 1.
	private final static int numberOfTrailingStates = 5;
	private final static int delayOfFirstTrailingstate = 10;
	
	TrailingState[] trailingStates;
	
	public MirrorServer(BattleField initialState)
	{
		trailingStates = new TrailingState[numberOfTrailingStates];
		trailingStates[0] = new TrailingState(new Date(0), null, initialState);
		TrailingState previousState = trailingStates[0];
		int millisDelay = delayOfFirstTrailingstate;
		
		for(int i=0; i<numberOfTrailingStates; i++)
		{
			trailingStates[i] = new TrailingState(new Date(millisDelay), previousState, initialState);
			
			previousState = trailingStates[i];
			millisDelay *= 2;
		}
	}
}
